<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Prisijungimas</title>
        <h:outputStylesheet name="/css/style.css"/>
        <h:outputStylesheet name="/css/signin/style.css"/>
        <h:outputStylesheet name="/css/bootstrap.css"/>
        <h:outputScript name="/js/jquery-3.2.1.min.js"/>
        <h:outputScript name="/js/bootstrap.min.js"/>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1"/>
    </h:head>
    <h:body>
        <div class="logo">
            <h:graphicImage name="/images/logo-white.png"/>
        </div>
        <div class="shaped box-shadow">
            <div class="col-lg-7 col-lg-offset-4 col-md-8 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 sign-in-form">
                <h:panelGroup rendered="#{not signInController.showRegisterWindow and not signInController.showForgotPasswordWindow}">
                    <h:form id="signin-form">
                        <h1 class="text-center">Prisijunkite</h1>
                        <h:messages id="signin-error-message" errorClass="error-message" infoClass="confirm-message"  autoUpdate="true"/>
                        <p:inputText id="email" value="#{signInController.expectedEmail}" placeholder="El. paštas"/>
                        <p:password id="password" value="#{signInController.expectedPassword}" placeholder="Slaptažodis"/>
                        <h:commandButton value="Prisijungti"
                                         styleClass="btn btn-primary btn-lg"
                                         action="#{signInController.signIn()}"
                                         ajax="false">
                        </h:commandButton>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center" style="padding-top: 5px;">
                            <h:commandLink styleClass="text-primary" value="Registruotis">
                                <f:setPropertyActionListener value="#{'true'}" target="#{signInController.showRegisterWindow}"/>
                            </h:commandLink>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center" style="padding-top: 5px;">
                            <h:commandLink styleClass="text-primary" value="Pamiršau slaptažodį">
                                <f:setPropertyActionListener value="#{'true'}" target="#{signInController.showForgotPasswordWindow}"/>
                            </h:commandLink>
                        </div>
                    </h:form>
                </h:panelGroup>
                <h:panelGroup rendered="#{signInController.showRegisterWindow}">
                    <ui:include src="/signup/createNewUser.xhtml"/>
                </h:panelGroup>
                <h:panelGroup rendered="#{signInController.showForgotPasswordWindow}">
                    <ui:include src="/signin/forgotPassword.xhtml"/>
                </h:panelGroup>
            </div>
        </div>

    </h:body>
</html>