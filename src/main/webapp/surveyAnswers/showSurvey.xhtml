<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
       <h:outputStylesheet name="/css/create/style.css"/>
    </h:head>

    <f:metadata>
        <f:viewParam name="person" value="#{signInController.loggedInPerson.personID}" />
        <f:viewAction action="#{signInController.isSigned}" />
        <f:viewParam name="id"
                     required="true"
                     value="#{showSurveyController.survey.surveyURL}"
                     validator="#{showSurveyController.validate}"/>
    </f:metadata>
    <h:body>
        <ui:include src="/header.xhtml"/>
        <div class="container">
            <h:form>
                <div class="col-lg-8 col-lg-offset-2 col-lg-offset-2 col-md-10 col-md-offset-1 col-md-offset-1 col-sm-10 col-sm-offset-1 col-sm-offset-1 col-xs-12">
                    <h1 class="text-center">#{showSurveyController.survey.title}</h1>
                    <h4 align="justify" class="title">#{showSurveyController.survey.description}</h4>

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <span class="required">* - Privaloma</span>
                        </div>
                        <ui:repeat  value="#{showSurveyController.survey.questionList}" var="question" varStatus="questionStatus">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 title">
                                <h2>#{question.questionNumber}. #{question.questionText}
                                    <h:panelGroup rendered="#{question.required}">
                                        <span class="required">*</span>
                                    </h:panelGroup>
                                </h2>
                            </div>
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <h:panelGroup rendered="#{question.type == 'TEXT'}">
                                    <div class="row">
                                        <div class="col-lg-5 col-md-6 col-sm-8 col-xs-12">
                                            <h:inputText styleClass="onlyBottomBorder" a:placeholder="Atsakymas"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{question.type == 'CHECKBOX'}">
                                    <h:selectManyCheckbox layout="pageDirection">
                                        <f:selectItems value="#{question.offeredAnswerList}" var="q" itemLabel="#{q.text}" itemValue="#{q.text}"/>
                                    </h:selectManyCheckbox>
                                    <!--TODO KITA-->
                                </h:panelGroup>
                                <h:panelGroup rendered="#{question.type == 'MULTIPLE_CHOICE'}">
                                    <h:selectOneRadio layout="pageDirection">
                                        <f:selectItems  styleClass="radio" value="#{question.offeredAnswerList}" var="q" itemLabel="#{q.text}" itemValue="#{q.text}"/>
                                    </h:selectOneRadio>
                                    <!--TODO KITA-->
                                </h:panelGroup>
                                <h:panelGroup rendered="#{question.type == 'SCALE'}">
                                    <div class="row">
                                        <div class="col-lg-5 col-md-6 col-sm-8 col-xs-12">
                                            <div class="row">
                                                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
                                                    <p:inputText id="slider6" value="#{showSurveyController.getScaleMinValue(questionStatus.index)}" styleClass="onlyBottomBorder"/>
                                                </div>
                                                <div class="col-lg-8 col-md-6 col-sm-6 col-xs-6 onBottom">
                                                    <p:slider for="slider6" minValue="#{showSurveyController.getScaleMinValue(questionStatus.index)}" maxValue="#{showSurveyController.getScaleMaxValue(questionStatus.index)}"/>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </ui:repeat>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 title text-center">
                            <h:commandButton value="Siųsti atsakymą"
                                             styleClass="btn btn-primary btn-md text-center"
                                             action="#{showSurveyController.findBySurveyURL('Y3ql8F5X')}">
                            </h:commandButton>
                        </div>

                    </div>
                </div>
            </h:form>
        </div>
        <ui:include src="/footer.xhtml"/>
    </h:body>
</html>